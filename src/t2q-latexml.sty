\newenvironment{theme}[1]{\subsection{#1}}{}
\newenvironment{memo}{}{}
\newenvironment{prob}{}{}
\newenvironment{ans}{}{}
\newenvironment{sol}{}{}
\newenvironment{rem}{}{}
\newenvironment{forta}{}{}
\newenvironment{comm}{}{}

\newcommand{\probid}[1]{[prob-id]#1}
\newcommand{\probtag}[1]{[prob-tag]#1}
\newcommand{\probtodo}[1]{[prob-todo]#1}
\newcommand{\probnote}[1]{[prob-note]#1}
\newcommand{\probcourse}[1]{[prob-course]#1}
\newcommand{\probquiztype}[1]{[prob-quiztype]#1}
\newcommand{\probtimestamp}[1]{[prob-timestamp]#1}
\newcommand{\probused}[1]{[prob-used]#1}
\newcommand{\probparent}[1]{[prob-parent]#1}
\newcommand{\probchild}[1]{[prob-child]#1}
\newcommand{\probalternative}[1]{[prob-alternative]#1}

\newcommand{\itemtrue}{\item}
\newcommand{\itemfalse}{\item}

\usepackage{verbatim}

\newcommand{\probmode}{
\renewenvironment{theme}[1]{\subsection{テスト問題:##1}}{}
\renewenvironment{memo}{\comment}{\endcomment}
\renewenvironment{prob}{}{}
\renewenvironment{ans}{\comment}{\endcomment}
\renewenvironment{sol}{\comment}{\endcomment}
\renewenvironment{rem}{\comment}{\endcomment}
\renewenvironment{forta}{\comment}{\endcomment}
\renewenvironment{comm}{\comment}{\endcomment}
 
\renewcommand{\itemtrue}{\item}
\renewcommand{\itemfalse}{\item}
}

\newcommand{\solmode}{
\renewenvironment{theme}[1]{\subsection{略解:##1}}{}
\renewenvironment{memo}{\comment}{\endcomment}
\renewenvironment{prob}{\comment}{\endcomment}
\renewenvironment{ans}{\comment}{\endcomment}
\renewenvironment{sol}{}{}
\renewenvironment{rem}{\comment}{\endcomment}
\renewenvironment{forta}{\comment}{\endcomment}
\renewenvironment{comm}{\comment}{\endcomment}

\renewcommand{\itemtrue}{\item}
\renewcommand{\itemfalse}{\item}
}